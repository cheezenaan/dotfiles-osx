# Clone zplug if not exist
if [[ ! -d ~/.zplug ]]; then
	git clone https://github.com/zplug/zplug ~/.zplug
fi

if [[ -f ~/.zplug/init.zsh ]]; then
	source ~/.zplug/init.zsh

	# zsh plugins
	zplug "mollifier/anyframe", lazy:true
	zplug "zsh-users/zsh-autosuggestions"
	zplug "zsh-users/zsh-syntax-highlighting", defer:2
	zplug "motemen/ghq", from:gh-r, as:command, rename-to:ghq, lazy:true
	zplug "junegunn/fzf-bin", as:command, from:gh-r, rename-to:fzf

	# # from prezto
	zplug "modules/completion", from:prezto
	zplug "modules/directory", from:prezto
	zplug "modules/editor", from:prezto
	zplug "modules/git", from:prezto
	zplug "modules/history", from:prezto
	zplug "modules/utility", from:prezto

	zstyle ":prezto:module:editor" key-bindings "emacs"
	zstyle ":anyframe:selector:" use fzf

	zplug "mafredri/zsh-async", from:github
	zplug "sindresorhus/pure", use:pure.zsh, from:github, as:theme

	# Install uninstalled plugins
	zplug check --verbose || zplug install
	zplug load
fi
